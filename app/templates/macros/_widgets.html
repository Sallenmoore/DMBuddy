{% macro initiative_list(initiative) -%}
<ul class="has-no-list-style" id="battle-initiative">
    {%for character in initiative %}
    <li data-pk="{{character.pk}}">
        <div class="media">
            <div class="media__left">
                <div class="image round is-thumbnail is-tiny">
                    <img src="{{character.image}}">
                </div>
            </div>
            <div class="media__content">
                <p>{{character.name}}</p>
            </div>
            <div class="media__right">
                <a class="button is-small circle" id="remove-from-initiative">
                    <iconify-icon icon="mdi:remove"></iconify-icon>
                </a>
            </div>
        </div>
    </li>
    {% endfor %}
</ul>
{%- endmacro %}

{% macro pcinitiative_entry(pc) -%}
<div class="media map-entry">
    <div class="media__left">
        <div class="image is-tiny">
            <img src="{{pc.image}}">
        </div>
    </div>
    <div class="media__content">
        <h5>{{ pc.name }}</h5>
        <input type="number" class="initiative" value="{{ pc.initiative }}">
    </div>
    <div class="media__right">
        <button class="remove-from-initiative"></button>
    </div>
</div>
{%- endmacro %}

{% macro map_entry(filename) -%}
<div class="media map-entry">
    <div class="media__left">
        <div class="image is-tiny">
            <img src="/static/images/maps/{{filename}}">
        </div>
    </div>
    <div class="media__content">
        <h5>{{ filename | basename }}</h5>
    </div>
    <div class="media__right">
        <button class="button--close"></button>
    </div>
</div>
{%- endmacro %}

{% macro initiative_available(initiative) -%}
<h2>Available for Initiative</h2>
<div class="row">
    <div class="column">
        <h3> Players </h3>
        {% if initiative %}
        {% for i in initiative %}
        {% if i.player %}
        <div class="row">
            <div class="column">
                <div class="is-input-group">
                    <label class="is-very-big-heading">{{i.player.name}}</label>
                    <input type="number" value="{{i.initiative}}" name="player-initiative">
                    <iconify-icon icon="lucide:list-start"></iconify-icon>
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
        {% endif %}
    </div>
    <div class="column">
        <h3> Combatants </h3>
        {% if initiative %}
        {% for i in initiative %}
        {% if i.monster %}
        <div class="row">
            <div class="column is-shrink">
                <div class="image is-tiny is-thumbnail">
                    <image src="{{i.monster.image}}">
                </div>
            </div>
            <div class="column">
                <label class="is-small-heading">{{i.monster.name}}</label>
            </div>
            <div class="column is-4">
                <div class="is-input-group">
                    <input type="number" value="{{i.initiative}}" name="monster-initiative">
                    <a class="button is-primary initiative-form">
                        <iconify-icon icon="lucide:list-start"></iconify-icon>
                    </a>
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
        {% endif %}
    </div>
</div>
{%- endmacro %}